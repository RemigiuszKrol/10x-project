---
import AuthLayout from "../../layouts/AuthLayout.astro";
import { LoginForm } from "../../components/auth/LoginForm";

// Jeśli użytkownik jest już zalogowany, przekieruj do planów
// Upewnij się, że user jest obiektem z właściwością id
if (Astro.locals.user && typeof Astro.locals.user === "object" && "id" in Astro.locals.user) {
  return Astro.redirect("/plans");
}
---

<AuthLayout title="Logowanie - PlantsPlaner" description="Zaloguj się do swojego konta PlantsPlaner">
  <LoginForm client:load />
</AuthLayout>
